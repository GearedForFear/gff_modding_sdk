[gd_scene load_steps=7 format=2]

[ext_resource path="res://scripts/destruction/destructible.gd" type="Script" id=1]
[ext_resource path="res://resources/materials/world/decorations/cactus_0.material" type="Material" id=2]
[ext_resource path="res://resources/meshes/world/decorations/cactus_0/complete.tres" type="ArrayMesh" id=3]
[ext_resource path="res://scripts/world/shadow_setter.gd" type="Script" id=4]

[sub_resource type="ConcavePolygonShape" id=1]
data = PoolVector3Array( -0.1983, 2.9922, 0.2229, -0.0307, 3.2262, -0.0077, 0.1368, 2.9922, 0.2229, -0.1983, 2.9922, 0.2229, -0.3018, 2.9922, -0.0957, -0.0307, 3.2262, -0.0077, 0.0391, -0.0258, -0.2419, 0.1596, -0.0258, 0.1528, 0.2403, -0.0258, -0.0957, 0.0398, 2.6697, -1.02, 0.1691, 2.6774, -0.8238, -0.0307, 2.8058, -0.8394, 0.1691, 2.6774, -0.8238, 0.0223, 2.6846, -0.6402, -0.0307, 2.8058, -0.8394, 0.0223, 2.6846, -0.6402, -0.1978, 2.6814, -0.723, -0.0307, 2.8058, -0.8394, -0.1978, 2.6814, -0.723, -0.187, 2.6722, -0.9577, -0.0307, 2.8058, -0.8394, -0.187, 2.6722, -0.9577, 0.0398, 2.6697, -1.02, -0.0307, 2.8058, -0.8394, 0.1691, 2.6774, -0.8238, 0.0223, 2.2028, -0.6251, 0.0223, 2.6846, -0.6402, 0.1691, 2.6774, -0.8238, 0.1691, 2.1472, -0.803, 0.0223, 2.2028, -0.6251, 0.0398, 2.6697, -1.02, 0.1691, 2.1472, -0.803, 0.1691, 2.6774, -0.8238, 0.0398, 2.6697, -1.02, 0.0398, 2.0755, -0.9864, 0.1691, 2.1472, -0.803, 0.2403, -0.0258, -0.0957, 0.0163, -0.0258, -0.2585, 0.0391, -0.0258, -0.2419, 0.0163, -0.0258, -0.2585, -0.0308, 1.6955, -0.2917, -0.0307, -0.0258, -0.2927, 0.0163, -0.0258, -0.2585, 0.0391, 1.6512, -0.2419, -0.0308, 1.6955, -0.2917, -0.0307, 2.078, -0.2927, 0.2403, 2.9922, -0.0957, -0.0307, 2.9922, -0.2927, 0.0163, -0.0258, -0.2585, 0.1666, 1.8781, -0.1473, 0.0391, 1.6512, -0.2419, 0.1666, 1.8781, -0.1473, 0.2403, 2.9922, -0.0957, -0.0307, 2.078, -0.2927, 0.2403, -0.0258, -0.0957, 0.1666, 1.8781, -0.1473, 0.0163, -0.0258, -0.2585, 0.2403, -0.0258, -0.0957, 0.2403, 2.9922, -0.0957, 0.1666, 1.8781, -0.1473, -0.1978, 2.6814, -0.723, -0.187, 2.142, -0.937, -0.187, 2.6722, -0.9577, -0.1978, 2.6814, -0.723, -0.1978, 2.1512, -0.7022, -0.187, 2.142, -0.937, 0.0223, 2.6846, -0.6402, -0.1978, 2.1512, -0.7022, -0.1978, 2.6814, -0.723, 0.0223, 2.6846, -0.6402, 0.0223, 2.2028, -0.6251, -0.1978, 2.1512, -0.7022, 0.0398, 2.6697, -1.02, -0.187, 2.142, -0.937, 0.0398, 2.0755, -0.9864, 0.0398, 2.6697, -1.02, -0.187, 2.6722, -0.9577, -0.187, 2.142, -0.937, 0.0223, 2.2028, -0.6251, -0.1978, 2.0245, -0.5699, -0.1978, 2.1512, -0.7022, 0.0223, 2.2028, -0.6251, 0.0223, 2.1025, -0.5177, -0.1978, 2.0245, -0.5699, 0.0398, 2.0755, -0.9864, 0.1691, 1.9243, -0.5815, 0.1691, 2.1472, -0.803, 0.0398, 2.0755, -0.9864, 0.0398, 1.7662, -0.6438, 0.1691, 1.9243, -0.5815, -0.1978, 2.1512, -0.7022, -0.187, 1.7911, -0.5968, -0.187, 2.142, -0.937, -0.1978, 2.1512, -0.7022, -0.1978, 2.0245, -0.5699, -0.187, 1.7911, -0.5968, 0.1691, 2.1472, -0.803, 0.0223, 2.1025, -0.5177, 0.0223, 2.2028, -0.6251, 0.1691, 2.1472, -0.803, 0.1691, 1.9243, -0.5815, 0.0223, 2.1025, -0.5177, -0.187, 1.7911, -0.5968, 0.0391, 1.6512, -0.2419, 0.0398, 1.7662, -0.6438, -0.0308, 1.6955, -0.2917, -0.187, 1.7911, -0.5968, -0.2061, 1.7449, -0.1638, 0.0391, 1.6512, -0.2419, -0.187, 1.7911, -0.5968, -0.0308, 1.6955, -0.2917, -0.2061, 1.7449, -0.1638, -0.1978, 2.0245, -0.5699, -0.2059, 1.9841, -0.1654, -0.2061, 1.7449, -0.1638, -0.187, 1.7911, -0.5968, -0.1978, 2.0245, -0.5699, -0.0307, 2.078, -0.2927, 0.1691, 1.9243, -0.5815, 0.1666, 1.8781, -0.1473, -0.0307, 2.078, -0.2927, 0.0223, 2.1025, -0.5177, 0.1691, 1.9243, -0.5815, 0.0398, 2.0755, -0.9864, -0.187, 1.7911, -0.5968, 0.0398, 1.7662, -0.6438, 0.0398, 2.0755, -0.9864, -0.187, 2.142, -0.937, -0.187, 1.7911, -0.5968, 0.3472, 2.5409, 0.6038, 0.5535, 2.5139, 0.7553, 0.3584, 2.6567, 0.8495, 0.5535, 2.5139, 0.7553, 0.4715, 2.4921, 0.9982, 0.3584, 2.6567, 0.8495, 0.4715, 2.4921, 0.9982, 0.2145, 2.5055, 0.9969, 0.3584, 2.6567, 0.8495, 0.2145, 2.5055, 0.9969, 0.1377, 2.5357, 0.7531, 0.3584, 2.6567, 0.8495, 0.1377, 2.5357, 0.7531, 0.3472, 2.5409, 0.6038, 0.3584, 2.6567, 0.8495, 0.1377, 2.5357, 0.7531, 0.3236, 2.0602, 0.5548, 0.3472, 2.5409, 0.6038, 0.1377, 2.5357, 0.7531, 0.1087, 1.9762, 0.693, 0.3236, 2.0602, 0.5548, 0.2145, 2.5055, 0.9969, 0.1087, 1.9762, 0.693, 0.1377, 2.5357, 0.7531, 0.2145, 2.5055, 0.9969, 0.1855, 1.9461, 0.9368, 0.1087, 1.9762, 0.693, 0.4715, 2.4921, 0.9982, 0.1855, 1.9461, 0.9368, 0.2145, 2.5055, 0.9969, 0.4715, 2.4921, 0.9982, 0.4318, 1.8736, 0.9159, 0.1855, 1.9461, 0.9368, 0.5535, 2.5139, 0.7553, 0.4318, 1.8736, 0.9159, 0.4715, 2.4921, 0.9982, 0.5535, 2.5139, 0.7553, 0.5245, 1.9545, 0.6952, 0.4318, 1.8736, 0.9159, 0.3472, 2.5409, 0.6038, 0.5245, 1.9545, 0.6952, 0.5535, 2.5139, 0.7553, 0.3472, 2.5409, 0.6038, 0.3236, 2.0602, 0.5548, 0.5245, 1.9545, 0.6952, 0.1087, 1.9762, 0.693, 0.2617, 1.9463, 0.4263, 0.3236, 2.0602, 0.5548, 0.1087, 1.9762, 0.693, 0.0458, 1.9098, 0.5625, 0.2617, 1.9463, 0.4263, 0.4318, 1.8736, 0.9159, 0.0179, 1.6553, 0.5889, 0.1855, 1.9461, 0.9368, 0.4318, 1.8736, 0.9159, 0.2539, 1.5591, 0.5465, 0.0179, 1.6553, 0.5889, 0.3236, 2.0602, 0.5548, 0.3861, 1.7263, 0.4079, 0.5245, 1.9545, 0.6952, 0.3236, 2.0602, 0.5548, 0.2617, 1.9463, 0.4263, 0.3861, 1.7263, 0.4079, 0.1855, 1.9461, 0.9368, 0.0458, 1.9098, 0.5625, 0.1087, 1.9762, 0.693, 0.1855, 1.9461, 0.9368, 0.0179, 1.6553, 0.5889, 0.0458, 1.9098, 0.5625, 0.5245, 1.9545, 0.6952, 0.2539, 1.5591, 0.5465, 0.4318, 1.8736, 0.9159, 0.5245, 1.9545, 0.6952, 0.3861, 1.7263, 0.4079, 0.2539, 1.5591, 0.5465, 0.0179, 1.6553, 0.5889, -0.1256, 1.8744, 0.2204, 0.0458, 1.9098, 0.5625, 0.0179, 1.6553, 0.5889, -0.156, 1.6164, 0.2229, -0.1256, 1.8744, 0.2204, 0.3861, 1.7263, 0.4079, 0.1368, 1.5173, 0.2229, 0.2539, 1.5591, 0.5465, 0.3861, 1.7263, 0.4079, 0.2023, 1.6908, 0.0239, 0.1368, 1.5173, 0.2229, 0.1368, 1.9273, 0.2229, 0.0458, 1.9098, 0.5625, -0.1256, 1.8744, 0.2204, 0.2617, 1.9463, 0.4263, 0.1368, 1.9273, 0.2229, 0.1496, 1.9182, 0.1755, 0.0458, 1.9098, 0.5625, 0.1368, 1.9273, 0.2229, 0.2617, 1.9463, 0.4263, 0.2539, 1.5591, 0.5465, -0.156, 1.6164, 0.2229, 0.0179, 1.6553, 0.5889, 0.2539, 1.5591, 0.5465, 0.1368, 1.5173, 0.2229, -0.156, 1.6164, 0.2229, 0.2617, 1.9463, 0.4263, 0.2023, 1.6908, 0.0239, 0.3861, 1.7263, 0.4079, 0.2617, 1.9463, 0.4263, 0.1496, 1.9182, 0.1755, 0.2023, 1.6908, 0.0239, -0.1983, 2.9922, 0.2229, -0.1177, -0.0258, 0.2229, -0.1983, -0.0258, 0.2229, -0.1177, -0.0258, 0.2229, 0.1368, 1.5173, 0.2229, 0.1368, -0.0258, 0.2229, -0.1177, -0.0258, 0.2229, -0.156, 1.6164, 0.2229, 0.1368, 1.5173, 0.2229, 0.1368, 1.9273, 0.2229, -0.1983, 2.9922, 0.2229, 0.1368, 2.9922, 0.2229, -0.1256, 1.8744, 0.2204, -0.1983, 2.9922, 0.2229, 0.1368, 1.9273, 0.2229, -0.1983, 2.9922, 0.2229, -0.156, 1.6164, 0.2229, -0.1177, -0.0258, 0.2229, -0.156, 1.6164, 0.2229, -0.1983, 2.9922, 0.2229, -0.1256, 1.8744, 0.2204, -0.3018, -0.0258, -0.0957, -0.1983, 2.9922, 0.2229, -0.1983, -0.0258, 0.2229, -0.3018, -0.0258, -0.0957, -0.3018, 2.9922, -0.0957, -0.1983, 2.9922, 0.2229, -0.0308, 1.6955, -0.2917, -0.1859, -0.0258, -0.1799, -0.0307, -0.0258, -0.2927, -0.1859, -0.0258, -0.1799, -0.3018, 2.9922, -0.0957, -0.3018, -0.0258, -0.0957, -0.3018, 2.9922, -0.0957, -0.0307, 2.078, -0.2927, -0.0307, 2.9922, -0.2927, -0.3018, 2.9922, -0.0957, -0.2059, 1.9841, -0.1654, -0.0307, 2.078, -0.2927, -0.2061, 1.7449, -0.1638, -0.1859, -0.0258, -0.1799, -0.0308, 1.6955, -0.2917, -0.3018, 2.9922, -0.0957, -0.2061, 1.7449, -0.1638, -0.2059, 1.9841, -0.1654, -0.1859, -0.0258, -0.1799, -0.2061, 1.7449, -0.1638, -0.3018, 2.9922, -0.0957, -0.1859, -0.0258, -0.1799, -0.1983, -0.0258, 0.2229, -0.1177, -0.0258, 0.2229, -0.1859, -0.0258, -0.1799, -0.3018, -0.0258, -0.0957, -0.1983, -0.0258, 0.2229, -0.3018, 2.9922, -0.0957, -0.0307, 2.9922, -0.2927, -0.0307, 3.2262, -0.0077, 0.2023, 1.6908, 0.0239, 0.1368, -0.0258, 0.2229, 0.1368, 1.5173, 0.2229, 0.1521, -0.0258, 0.1757, 0.2403, -0.0258, -0.0957, 0.1596, -0.0258, 0.1528, 0.2023, 1.6908, 0.0239, 0.1521, -0.0258, 0.1757, 0.1368, -0.0258, 0.2229, 0.1368, 2.9922, 0.2229, 0.1496, 1.9182, 0.1755, 0.1368, 1.9273, 0.2229, 0.2023, 1.6908, 0.0239, 0.2403, -0.0258, -0.0957, 0.1521, -0.0258, 0.1757, 0.1368, 2.9922, 0.2229, 0.2023, 1.6908, 0.0239, 0.1496, 1.9182, 0.1755, 0.2023, 1.6908, 0.0239, 0.2403, 2.9922, -0.0957, 0.2403, -0.0258, -0.0957, 0.2403, 2.9922, -0.0957, 0.2023, 1.6908, 0.0239, 0.1368, 2.9922, 0.2229, 0.0163, -0.0258, -0.2585, 0.1596, -0.0258, 0.1528, 0.0391, -0.0258, -0.2419, 0.0163, -0.0258, -0.2585, 0.1521, -0.0258, 0.1757, 0.1596, -0.0258, 0.1528, 0.2403, 2.9922, -0.0957, -0.0307, 3.2262, -0.0077, -0.0307, 2.9922, -0.2927, -0.1978, 2.0245, -0.5699, -0.0307, 2.078, -0.2927, -0.2059, 1.9841, -0.1654, -0.1978, 2.0245, -0.5699, 0.0223, 2.1025, -0.5177, -0.0307, 2.078, -0.2927, 0.1368, 2.9922, 0.2229, -0.0307, 3.2262, -0.0077, 0.2403, 2.9922, -0.0957, -0.1859, -0.0258, -0.1799, 0.0163, -0.0258, -0.2585, -0.0307, -0.0258, -0.2927, 0.0163, -0.0258, -0.2585, 0.1368, -0.0258, 0.2229, 0.1521, -0.0258, 0.1757, 0.1368, -0.0258, 0.2229, -0.1859, -0.0258, -0.1799, -0.1177, -0.0258, 0.2229, 0.0163, -0.0258, -0.2585, -0.1859, -0.0258, -0.1799, 0.1368, -0.0258, 0.2229, 0.1691, 1.9243, -0.5815, 0.0391, 1.6512, -0.2419, 0.1666, 1.8781, -0.1473, 0.1691, 1.9243, -0.5815, 0.0398, 1.7662, -0.6438, 0.0391, 1.6512, -0.2419 )

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( 0.230168, 2.51063, 0.991432, 0.341237, 2.57696, 0.924674, 0.255298, -0.0371706, -0.0533162, -0.287169, 0.058836, -0.0506614, -0.278886, 2.99374, -0.0300615, 0.573738, 2.53236, 0.765068, -0.169381, 2.68756, -0.940366, 0.187061, 2.69103, -0.849062, 0.0090597, 3.18793, -0.00803959, 0.164316, -0.0371706, 0.219145, 0.00526933, -0.0371706, -0.303539, -0.20343, 0.0495834, 0.207108, 0.428817, 1.90984, 0.92096, 0.0505871, 2.05474, -1.00833, -0.183692, 2.12016, -0.917485, -0.20343, 2.93528, 0.207108, 0.255298, 3.00998, -0.121632, 0.255298, -0.0371706, -0.121632, 0.550906, 2.00954, 0.719591, 0.187061, 2.12334, -0.826424, 0.184905, 2.01526, 0.931053, 0.473776, 2.48665, 0.989467, 0.0529431, 2.68087, -0.978761, -0.287169, 2.92732, -0.0506614, -0.0577436, 3.19331, 0.0139867, -0.278374, 0.0913084, -0.112719, -0.192049, 3.00099, 0.214109, 0.384184, 1.88726, 0.919566, 0.385173, 2.6201, 0.878838, 0.206936, 2.41096, 0.978349, -0.0358211, 2.79622, -0.827355, -0.0575684, 3.19182, -0.0300454, -0.0136723, 2.66295, -1.00503, -0.233279, 3.03268, -0.0961888, -0.167969, 2.55004, -0.958167, 0.255298, 3.00998, -0.0533162, 0.14157, 2.10026, -0.89474, 0.573738, 2.46408, 0.765068, 0.340857, 2.64208, 0.856393, 0.295957, 2.02005, 0.9419, 0.00835404, 2.75242, -0.894325, 0.187061, 2.55512, -0.849062, 0.164316, -0.0371706, -0.189947, 0.550906, 2.07782, 0.74223, -0.123564, 2.24052, -0.95744, 0.406397, 2.21881, 0.963968, -0.0364276, 2.75608, -0.897141, -0.213381, 3.06388, -0.0521958 )

[node name="Area" type="Area" groups=["destructible"]]
collision_layer = 4
script = ExtResource( 1 )
parts_path = "res://scenes/destruction/cactus_0_destroyed.tscn"
force_factor = 0.004

[node name="MeshInstance" type="MeshInstance" parent="."]
mesh = ExtResource( 3 )
material/0 = ExtResource( 2 )
script = ExtResource( 4 )

[node name="StaticBody" type="StaticBody" parent="MeshInstance"]
collision_layer = 4
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance/StaticBody"]
shape = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="."]
shape = SubResource( 2 )

[node name="VisibilityNotifier" type="VisibilityNotifier" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.11436, 1.58203, -0.0118168 )
aabb = AABB( -5, -5, -5, 10, 10, 10 )
max_distance = 200.0

[connection signal="body_entered" from="." to="." method="_on_Area_body_entered"]
[connection signal="camera_entered" from="VisibilityNotifier" to="." method="_on_VisibilityNotifier_camera_entered"]
[connection signal="camera_exited" from="VisibilityNotifier" to="." method="_on_VisibilityNotifier_camera_exited"]
