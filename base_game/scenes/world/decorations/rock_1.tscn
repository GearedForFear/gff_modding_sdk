[gd_scene load_steps=7 format=2]

[ext_resource path="res://scripts/destruction/destructible.gd" type="Script" id=1]
[ext_resource path="res://resources/meshes/world/decorations/rock_1/complete.tres" type="ArrayMesh" id=2]
[ext_resource path="res://resources/materials/world/decorations/rock_usa.material" type="Material" id=3]
[ext_resource path="res://scripts/world/shadow_setter.gd" type="Script" id=4]

[sub_resource type="ConcavePolygonShape" id=2]
data = PoolVector3Array( 3.1544, 6.699, 0, 2.2329, 5.4821, -3.9306, 4.1291, 5.417, -3, 3.1544, 6.699, 0, 0, 7.2883, 0, 2.2329, 5.4821, -3.9306, -5.3666, 1.5778, 0, -5.7911, 2.8656, 0.4205, -4.1291, 1.268, 3, -3.9162, -0.0141, 3.8887, 0, 3.3425, 6, 1.5772, 1.268, 4.8541, -3.9162, -0.0141, 3.8887, -3.5267, 3.3425, 4.8541, 0, 3.3425, 6, 0.5568, 1.2859, -4.9477, 0.729, 2.4079, -4.5674, -3.6032, 1.99, -2.9543, -5.619, 4.5776, -0.1118, -3.6032, 1.99, -2.9543, -4.132, 5.4168, -2.7575, -5.619, 4.5776, -0.1118, -5.7911, 2.8656, 0.4205, -3.6032, 1.99, -2.9543, -5.3666, 1.5778, 0, -4.1291, 1.268, -3, -5.7911, 2.8656, 0.4205, 5.7063, 3.3425, -1.8541, 3.1544, 6.699, 0, 4.1291, 5.417, -3, 5.7063, 3.3425, -1.8541, 3.5563, 5.121, 2.0262, 3.1544, 6.699, 0, 4.3416, 1.5778, -3.1544, -0.086, -0.0141, -4.6506, 4.8585, -0.0141, -2.4466, 4.3416, 1.5778, -3.1544, 0.5568, 1.2859, -4.9477, -0.086, -0.0141, -4.6506, 4.3416, 1.5778, -3.1544, 3.5267, 3.3425, -4.8541, 0.5568, 1.2859, -4.9477, -3.6032, 1.99, -2.9543, -0.086, -0.0141, -4.6506, 0.5568, 1.2859, -4.9477, -3.6032, 1.99, -2.9543, -4.1291, 1.268, -3, -0.086, -0.0141, -4.6506, -5.7911, 2.8656, 0.4205, -4.1291, 1.268, -3, -3.6032, 1.99, -2.9543, -0.2743, 5.684, -3.8128, -2.5519, 6.699, -1.8541, -4.132, 5.4168, -2.7575, -2.5519, 6.699, -1.8541, 0, 7.2883, 0, -2.5519, 6.699, 1.8541, -5.619, 4.5776, -0.1118, -2.5519, 6.699, -1.8541, -2.5519, 6.699, 1.8541, -5.619, 4.5776, -0.1118, -4.132, 5.4168, -2.7575, -2.5519, 6.699, -1.8541, -5.619, 4.5776, -0.1118, -2.5519, 6.699, 1.8541, -1.5772, 5.417, 4.8541, 3.1544, 6.699, 0, 0.9747, 6.699, 3, -2.5519, 6.699, 1.8541, -0.086, -0.0141, -4.6506, 2.5731, -0.0141, 3.5258, 4.8585, -0.0141, -2.4466, 2.5731, -0.0141, 3.5258, -5.2282, -0.0141, -1.2485, -3.9162, -0.0141, 3.8887, 2.5731, -0.0141, 3.5258, -0.086, -0.0141, -4.6506, -5.2282, -0.0141, -1.2485, 1.0748, 5.8968, 4.5232, -2.5519, 6.699, 1.8541, 0.9747, 6.699, 3, 1.0748, 5.8968, 4.5232, -1.5772, 5.417, 4.8541, -2.5519, 6.699, 1.8541, 0, 7.2883, 0, 3.1544, 6.699, 0, -2.5519, 6.699, 1.8541, 3.5563, 5.121, 2.0262, 5.7063, 3.3425, -1.8541, 2.2693, 2.2402, 4.3141, 5.7063, 3.3425, -1.8541, 4.1291, 5.417, -3, 3.5267, 3.3425, -4.8541, 3.5267, 3.3425, -4.8541, 4.1291, 5.417, -3, 2.2329, 5.4821, -3.9306, 0.729, 2.4079, -4.5674, 2.2329, 5.4821, -3.9306, -0.2743, 5.684, -3.8128, 0.729, 2.4079, -4.5674, -0.2743, 5.684, -3.8128, -3.6032, 1.99, -2.9543, -3.6032, 1.99, -2.9543, -0.2743, 5.684, -3.8128, -4.132, 5.4168, -2.7575, -3.9162, -0.0141, 3.8887, -4.1291, 1.268, 3, -3.5267, 3.3425, 4.8541, -0.2743, 5.684, -3.8128, 0, 7.2883, 0, -2.5519, 6.699, -1.8541, -0.2743, 5.684, -3.8128, 2.2329, 5.4821, -3.9306, 0, 7.2883, 0, -3.5267, 3.3425, 4.8541, -1.5772, 5.417, 4.8541, 0, 3.3425, 6, 0, 3.3425, 6, -1.5772, 5.417, 4.8541, 1.0748, 5.8968, 4.5232, 0.729, 2.4079, -4.5674, 3.5267, 3.3425, -4.8541, 2.2329, 5.4821, -3.9306, 0.729, 2.4079, -4.5674, 0.5568, 1.2859, -4.9477, 3.5267, 3.3425, -4.8541, -1.5772, 5.417, 4.8541, -5.7911, 2.8656, 0.4205, -5.619, 4.5776, -0.1118, -1.5772, 5.417, 4.8541, -3.5267, 3.3425, 4.8541, -5.7911, 2.8656, 0.4205, -5.7911, 2.8656, 0.4205, -3.5267, 3.3425, 4.8541, -4.1291, 1.268, 3, 3.5563, 5.121, 2.0262, 2.2693, 2.2402, 4.3141, 0, 3.3425, 6, 0, 3.3425, 6, 2.2693, 2.2402, 4.3141, 1.5772, 1.268, 4.8541, 2.5731, -0.0141, 3.5258, 1.5772, 1.268, 4.8541, 2.2693, 2.2402, 4.3141, 2.5731, -0.0141, 3.5258, 5.7063, 3.3425, -1.8541, 6.146, 1.9268, -0.8676, 1.0748, 5.8968, 4.5232, 3.1544, 6.699, 0, 3.5563, 5.121, 2.0262, 1.0748, 5.8968, 4.5232, 0.9747, 6.699, 3, 3.1544, 6.699, 0, 4.3416, 1.5778, -3.1544, 5.7063, 3.3425, -1.8541, 3.5267, 3.3425, -4.8541, 4.3416, 1.5778, -3.1544, 6.146, 1.9268, -0.8676, 5.7063, 3.3425, -1.8541, 0, 3.3425, 6, 1.0748, 5.8968, 4.5232, 3.5563, 5.121, 2.0262, -0.086, -0.0141, -4.6506, -4.1291, 1.268, -3, -5.2282, -0.0141, -1.2485, -5.2282, -0.0141, -1.2485, -4.1291, 1.268, -3, -5.3666, 1.5778, 0, -5.2282, -0.0141, -1.2485, -5.3666, 1.5778, 0, -4.1291, 1.268, 3, -5.2282, -0.0141, -1.2485, -4.1291, 1.268, 3, -3.9162, -0.0141, 3.8887, 6.146, 1.9268, -0.8676, 4.3416, 1.5778, -3.1544, 4.8585, -0.0141, -2.4466, 6.146, 1.9268, -0.8676, 4.8585, -0.0141, -2.4466, 2.5731, -0.0141, 3.5258, -3.9162, -0.0141, 3.8887, 1.5772, 1.268, 4.8541, 2.5731, -0.0141, 3.5258, 2.5731, -0.0141, 3.5258, 2.2693, 2.2402, 4.3141, 5.7063, 3.3425, -1.8541 )

[sub_resource type="ConvexPolygonShape" id=3]
points = PoolVector3Array( 3.26581, 5.39426, 2.01316, 0.258184, 0.871617, -4.80821, -0.0688008, 0.208767, -4.65709, -5.43162, 4.62774, 0.104785, -3.87911, 0.00910453, 3.90369, 4.87126, 0.0283073, -2.37193, 2.53725, 5.4421, -3.80321, 0.257949, 3.00095, 5.81127, -2.46248, 6.53221, 2.18904, 2.5605, 0.0360015, 3.54957, -5.13339, 0.0577064, -1.36859, -3.81906, 5.44657, -2.83389, 6.23127, 1.9476, -0.597449, 2.99472, 6.71007, -0.053082, -1.65917, 5.40912, 4.74228, 3.19313, 3.32712, -4.79038, -2.34666, 6.7464, -1.68859, 1.06822, 5.91972, 4.47847, -3.48557, 3.16491, 4.82308, 4.17651, 5.28456, -3.00017, -4.00689, 1.19139, -3.01965, 0.417838, 7.19162, -0.0526963, -5.64083, 2.66969, 0.590598, 2.32514, 2.69828, 4.08831, -0.390077, 5.59645, -3.78233, 5.47077, 3.65229, -2.01427, 0.589388, 0.0199857, -4.35977, 1.57205, 1.35562, 4.85625, 1.06458, 6.55685, 3.17061, -5.45988, 4.63266, -0.387977, 3.70505, 2.99639, -4.49525, -0.395631, 3.48952, 5.82656, 3.61731, 5.09207, 1.8685, 6.23127, 2.28912, -0.939227, -4.12071, 5.43621, -2.65355, -2.33576, 6.73304, 1.72467, -3.42654, 3.49291, 4.75356, 3.14838, 6.54373, 0.269061, 0.427627, -0.0141, -0.239347, 2.34531, 1.72496, 4.12191, -0.227533, 7.21336, -0.21784, 3.69085, 3.65229, -4.47511, -0.397, 0.0449969, -4.49206, -5.13269, 0.0581824, -0.877631, -2.97823, 6.40412, 1.56084, 0.424247, 5.62429, -3.84639, -5.67934, 3.81715, 0.0988287, 3.19087, 3.00103, -4.7864, -3.45504, 6.0738, -1.34613, -0.395623, 3.16256, 5.82649, 4.69951, 0.0338219, -2.53184, 0.257728, 3.97742, 5.63312, 0.256727, 1.56463, -4.71227, 2.02104, 5.57604, -3.73981, -1.03573, 7.04912, 0.751155, 3.9629, 5.58467, -2.63034, 0.422716, 1.03881, 4.67467, -2.64219, 6.55349, -1.988, 4.02757, 3.32555, -4.15915, 3.29124, 4.9298, 2.34465, -4.32484, 1.03353, -2.68317, 3.46213, 6.21592, -0.0505568, 0.417066, 6.52526, 3.14167, 2.01977, 2.53059, 4.43521 )

[node name="Area" type="Area" groups=["destructible"]]
collision_layer = 4
script = ExtResource( 1 )
parts_path = "res://scenes/destruction/rock_1_destroyed.tscn"
force_factor = 1.0

[node name="MeshInstance" type="MeshInstance" parent="."]
mesh = ExtResource( 2 )
material/0 = ExtResource( 3 )
script = ExtResource( 4 )

[node name="StaticBody" type="StaticBody" parent="MeshInstance"]
collision_layer = 4
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance/StaticBody"]
shape = SubResource( 2 )

[node name="CollisionShape" type="CollisionShape" parent="."]
shape = SubResource( 3 )

[node name="VisibilityNotifier" type="VisibilityNotifier" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.24089, 3.61053, 0.513193 )
aabb = AABB( -12.5, -12.5, -12.5, 25, 25, 25 )
max_distance = 500.0

[connection signal="body_entered" from="." to="." method="_on_Area_body_entered"]
[connection signal="camera_entered" from="VisibilityNotifier" to="." method="_on_VisibilityNotifier_camera_entered"]
[connection signal="camera_exited" from="VisibilityNotifier" to="." method="_on_VisibilityNotifier_camera_exited"]
