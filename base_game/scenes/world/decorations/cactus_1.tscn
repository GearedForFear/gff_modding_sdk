[gd_scene load_steps=7 format=2]

[ext_resource path="res://scripts/destruction/destructible.gd" type="Script" id=1]
[ext_resource path="res://resources/materials/world/decorations/cactus_1.material" type="Material" id=2]
[ext_resource path="res://resources/meshes/world/decorations/cactus_1/complete.tres" type="ArrayMesh" id=3]
[ext_resource path="res://scripts/world/shadow_setter.gd" type="Script" id=4]

[sub_resource type="ConcavePolygonShape" id=1]
data = PoolVector3Array( -0.0623, -0.0061, -0.2515, -0.1783, -0.0074, 0.1855, 0.2581, -0.0002, 0.0675, 0.2581, -0.0002, 0.0675, 0.2993, 0.261, -0.2992, -0.0623, -0.0061, -0.2515, -0.0623, -0.0061, -0.2515, -0.4068, 0.2493, -0.1083, -0.1783, -0.0074, 0.1855, -0.0623, -0.0061, -0.2515, -0.1116, 0.4152, -0.4078, -0.4068, 0.2493, -0.1083, -0.0623, -0.0061, -0.2515, 0.2993, 0.261, -0.2992, -0.1116, 0.4152, -0.4078, 0.2581, -0.0002, 0.0675, 0.4068, 0.4249, 0.1083, 0.2993, 0.261, -0.2992, -0.1783, -0.0074, 0.1855, 0.1116, 0.2589, 0.4078, 0.2581, -0.0002, 0.0675, -0.4068, 0.2493, -0.1083, -0.2993, 0.4131, 0.2992, -0.1783, -0.0074, 0.1855, -0.1116, 0.4152, -0.4078, -0.2581, 0.6743, -0.0675, -0.4068, 0.2493, -0.1083, 0.2993, 0.261, -0.2992, 0.1783, 0.6816, -0.1855, -0.1116, 0.4152, -0.4078, 0.2581, -0.0002, 0.0675, 0.1116, 0.2589, 0.4078, 0.4068, 0.4249, 0.1083, -0.1783, -0.0074, 0.1855, -0.2993, 0.4131, 0.2992, 0.1116, 0.2589, 0.4078, -0.4068, 0.2493, -0.1083, -0.2581, 0.6743, -0.0675, -0.2993, 0.4131, 0.2992, -0.1116, 0.4152, -0.4078, 0.1783, 0.6816, -0.1855, -0.2581, 0.6743, -0.0675, 0.2993, 0.261, -0.2992, 0.4068, 0.4249, 0.1083, 0.1783, 0.6816, -0.1855, 0.1116, 0.2589, 0.4078, 0.0623, 0.6803, 0.2515, 0.4068, 0.4249, 0.1083, -0.2993, 0.4131, 0.2992, 0.0623, 0.6803, 0.2515, 0.1116, 0.2589, 0.4078, -0.2581, 0.6743, -0.0675, 0.0623, 0.6803, 0.2515, -0.2993, 0.4131, 0.2992, 0.1783, 0.6816, -0.1855, 0.0623, 0.6803, 0.2515, -0.2581, 0.6743, -0.0675, 0.4068, 0.4249, 0.1083, 0.0623, 0.6803, 0.2515, 0.1783, 0.6816, -0.1855 )

[sub_resource type="ConvexPolygonShape" id=2]
points = PoolVector3Array( 0.0989432, 0.421312, 0.342763, -0.121449, 0.396808, -0.391899, -0.121318, 0.421248, -0.391479, 0.299443, 0.261108, -0.298365, -0.183338, 0.00387653, 0.184338, -0.256648, 0.667045, -0.0735039, 0.18493, 0.666798, -0.18393, 0.396272, 0.397334, 0.0987406, 0.259836, 0.015313, 0.073898, -0.0731659, 0.0020771, -0.247039, -0.392051, 0.237482, -0.110497, -0.292471, 0.42123, 0.293471, 0.075116, 0.669106, 0.24695, 0.112469, 0.249056, 0.396231, 0.395085, 0.434119, 0.110788, -0.394252, 0.274012, -0.111116, 0.210069, 0.00360969, 0.0123299, -0.294104, 0.397069, 0.295104, 0.0132555, 0.643159, 0.25829, -0.0729214, 0.409527, -0.394144, -0.023611, 0.0278968, -0.258531, 0.111241, 0.666308, -0.183658, -0.383663, 0.28612, -0.0247217, 0.112069, 0.286406, 0.394809, -0.121383, 0.00524981, 0.183575, -0.254682, 0.664516, -0.0486795, 0.393677, 0.433768, 0.0858692, 0.20995, 0.00379775, 0.0860293, 0.074874, 0.261864, 0.393892, -0.0850503, 0.384774, -0.393505, 0.185189, 0.667263, -0.147259, -0.072851, 0.458624, -0.369101, 0.379429, 0.38442, 0.121988, -0.182739, 0.00495527, 0.146975, -0.30943, 0.397667, 0.260792, 0.160301, 0.641935, -0.208281, -0.392488, 0.237373, -0.0859696, -0.208915, 0.384989, 0.321023, -0.0355964, 0.00645472, -0.243798, -0.269779, 0.618742, -0.0122626, -0.121469, 0.0540257, 0.23266, 0.135284, 0.262478, 0.378304, 0.283949, 0.101997, 0, 0.0873437, 0.286401, 0.394847, -0.365504, 0.237995, -0.134339, 0.0379174, 0.667842, 0.246013, 0.256969, 0.0188612, 0.0365016, 0.367341, 0.433305, 0.134279, -0.231903, 0.654356, -0.0980157, -0.333106, 0.459339, -0.0865309, 0.050238, 0.655852, 0.258615, 0.0868116, 0.66677, 0.220636, -0.269711, 0.32341, -0.246038, -0.0728336, 0.0527937, -0.270595, 0.248492, 0.0139994, 0.0866065, 0.0870495, 0.60614, -0.245823, -0.269942, 0.434143, 0.295559, 0.259927, 0.237102, -0.295851, 0.399145, 0.410276, 0.087065, 0.270652, 0.335704, -0.28194, -0.121593, 0.458184, -0.355489, -0.110065, 0.384969, -0.39507, 0.309793, 0.150468, 0.0740638, -0.182444, 0.0544229, 0.207812 )

[node name="Area" type="Area" groups=["destructible"]]
collision_layer = 4
script = ExtResource( 1 )
parts_path = "res://scenes/destruction/cactus_1_destroyed.tscn"
force_factor = 0.003

[node name="MeshInstance" type="MeshInstance" parent="."]
mesh = ExtResource( 3 )
material/0 = ExtResource( 2 )
script = ExtResource( 4 )

[node name="StaticBody" type="StaticBody" parent="MeshInstance"]
collision_layer = 4
collision_mask = 0

[node name="CollisionShape" type="CollisionShape" parent="MeshInstance/StaticBody"]
shape = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="."]
shape = SubResource( 2 )

[node name="VisibilityNotifier" type="VisibilityNotifier" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00945595, 0.332726, -0.00462071 )
aabb = AABB( -1.5, -1.5, -1.5, 3, 3, 3 )
max_distance = 200.0

[connection signal="body_entered" from="." to="." method="_on_Area_body_entered"]
[connection signal="camera_entered" from="VisibilityNotifier" to="." method="_on_VisibilityNotifier_camera_entered"]
[connection signal="camera_exited" from="VisibilityNotifier" to="." method="_on_VisibilityNotifier_camera_exited"]
